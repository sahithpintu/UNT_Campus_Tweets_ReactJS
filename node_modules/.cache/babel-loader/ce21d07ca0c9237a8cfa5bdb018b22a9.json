{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\vishn\\\\Documents\\\\UNT_CAMPUS_TWEETS-master\\\\UNT_CAMPUS_TWEETS-master\\\\UNT Campus_Tweets ReactJS\\\\src\\\\Profile.js\",\n    _s = $RefreshSig$();\n\n//This page allows the users to view and edit their profile details.\nimport React, { useState, useEffect } from 'react';\nimport './ChangePassword.css';\nimport Sidebar from './Sidebar';\nimport AccessDenied from './AccessDenied';\nimport Loading from './Loading';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { useForm } from 'react-hook-form';\nimport { useHistory } from \"react-router\";\nimport axios from 'axios';\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\nexport default function Profile() {\n  _s();\n\n  const classes = useStyles();\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  const [profile, setProfile] = useState([]);\n  const history = useHistory();\n  useEffect(() => {\n    if (localStorage.getItem('userName') == null) {\n      return;\n    }\n\n    axios.get(`http://localhost:8080/twitter/user/${localStorage.getItem('userName')}`).then(response => {\n      console.log(response);\n      console.log(response.data);\n      document.getElementById(\"name\").value = response.data.displayName;\n      document.getElementById(\"username\").value = response.data.userName;\n      document.getElementById(\"email\").value = response.data.emailId;\n      setProfile(response.data);\n    });\n  }, []);\n\n  const onSubmit = data => {\n    console.log(data);\n    axios.post(`http://localhost:8080/twitter/user/${localStorage.getItem('userName')}/edit-profile/${data.name}/${data.email}`, data).then(response => {\n      console.log(response);\n\n      if (response.data === 'Success') {\n        alert(\"Profile updated successfully\");\n      } else {\n        alert(`Error ${response.status}: Unable to update profile. Please try again later.`);\n      }\n    });\n  };\n\n  return localStorage.getItem('userName') != null ? profile ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"userProfile\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      className: \"registration\",\n      style: {\n        flex: \"0.7\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.paper,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          component: \"h1\",\n          variant: \"h5\",\n          children: \"Your Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: classes.form,\n          onSubmit: handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              width: \"100%\",\n              flexDirection: \"row\",\n              justifyContent: \"flex-start\",\n              alignItems: \"center\",\n              display: \"inline-block\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: \"0.3\",\n                marginleft: \"2.5em\"\n              },\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              style: {\n                flex: \"0.7\"\n              },\n              variant: \"standard\",\n              inputRef: register({\n                register: true\n              }),\n              required: true,\n              fullWidth: true,\n              name: \"username\",\n              id: \"username\",\n              disabled: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              width: \"100%\",\n              flexDirection: \"row\",\n              justifyContent: \"flex-start\",\n              alignItems: \"center\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: \"0.3\",\n                marginRight: \"10px\"\n              },\n              children: \"Display Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              style: {\n                flex: \"0.7\"\n              },\n              variant: \"standard\",\n              inputRef: register({\n                register: true\n              }),\n              required: true,\n              fullWidth: true,\n              name: \"name\",\n              id: \"name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 21\n            }, this), errors.name && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"This field is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 35\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              width: \"100%\",\n              flexDirection: \"row\",\n              justifyContent: \"flex-start\",\n              alignItems: \"center\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: \"0.3\",\n                marginRight: \"10px\"\n              },\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              style: {\n                flex: \"0.7\"\n              },\n              variant: \"standard\",\n              inputRef: register({\n                register: true\n              }),\n              required: true,\n              fullWidth: true,\n              name: \"email\",\n              id: \"email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 21\n            }, this), errors.email && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"This field is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 36\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            fullWidth: true,\n            variant: \"contained\",\n            className: classes.submit,\n            style: {\n              color: \"white\",\n              backgroundColor: \"#00853e\",\n              borderRadius: \"50px\"\n            },\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 10\n  }, this) : /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(AccessDenied, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 15\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 11\n  }, this);\n}\n\n_s(Profile, \"bhsZDOvanaeB+HYybGwFNbnxCYA=\", false, function () {\n  return [useStyles, useForm, useHistory];\n});\n\n_c = Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["C:/Users/vishn/Documents/UNT_CAMPUS_TWEETS-master/UNT_CAMPUS_TWEETS-master/UNT Campus_Tweets ReactJS/src/Profile.js"],"names":["React","useState","useEffect","Sidebar","AccessDenied","Loading","Button","CssBaseline","TextField","Typography","makeStyles","Container","useForm","useHistory","axios","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","Profile","classes","register","handleSubmit","errors","profile","setProfile","history","localStorage","getItem","get","then","response","console","log","data","document","getElementById","value","displayName","userName","emailId","onSubmit","post","name","email","alert","status","flex","justifyContent","marginleft","marginRight","color","borderRadius"],"mappings":"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","sourcesContent":["//This page allows the users to view and edit their profile details.\n\nimport React, { useState, useEffect } from 'react'\nimport './ChangePassword.css'\nimport Sidebar from './Sidebar';\nimport AccessDenied from './AccessDenied';\nimport Loading from './Loading';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport {useForm} from 'react-hook-form'\nimport { useHistory } from \"react-router\";\nimport axios from 'axios';\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n      width: '100%', \n      marginTop: theme.spacing(1),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n  }));\n  \n  export default function Profile() {\n    const classes = useStyles();\n    const {register, handleSubmit, errors} = useForm()\n    const [profile, setProfile] = useState([])\n    const history = useHistory();\n    \n    useEffect(() => {\n      if (localStorage.getItem('userName') == null) {\n        return;\n      }\n\n      axios.get(`http://localhost:8080/twitter/user/${localStorage.getItem('userName')}`)\n      .then((response) => {\n          console.log(response)\n          console.log(response.data)\n          document.getElementById(\"name\").value = response.data.displayName;\n          document.getElementById(\"username\").value = response.data.userName;\n          document.getElementById(\"email\").value = response.data.emailId;\n          setProfile(response.data)\n      })\n    }, [])\n\n    const onSubmit = (data) => {\n        console.log(data);\n        axios.post(`http://localhost:8080/twitter/user/${localStorage.getItem('userName')}/edit-profile/${data.name}/${data.email}`, data).then(response => {\n          console.log(response)\n          if(response.data === 'Success') {\n            alert(\"Profile updated successfully\")\n          } else {\n            alert(`Error ${response.status}: Unable to update profile. Please try again later.`)\n          }\n        })\n    }\n\n    return localStorage.getItem('userName') != null ? (\n      profile ?\n        (<div className=\"userProfile\">\n            <Sidebar/>\n            <Container component=\"main\" maxWidth=\"xs\" className=\"registration\" style={{ flex: \"0.7\" }}>\n                <CssBaseline />\n                <div className={classes.paper}>\n\n                <Typography component=\"h1\" variant=\"h5\">\n                    Your Profile\n                </Typography>\n                <br></br>\n\n                <form className={classes.form} onSubmit={handleSubmit(onSubmit)}>\n                  <div style={{ display: \"flex\", width: \"100%\", flexDirection: \"row\", justifyContent: \"flex-start\", alignItems: \"center\",display:\"inline-block\"}}>\n                    <div style={{ flex: \"0.3\",marginleft:\"2.5em\"}}>Username</div>\n                    <TextField\n                      style={{ flex: \"0.7\"}}\n                      variant=\"standard\"\n                      inputRef={register({ register: true })}\n                      required\n                      fullWidth\n                      name=\"username\"\n                      id=\"username\"\n                      disabled />\n                  </div>\n                  <br></br>\n\n                  <div style={{ display: \"flex\", width: \"100%\", flexDirection: \"row\", justifyContent: \"flex-start\", alignItems: \"center\" }}>\n                    <div style={{ flex: \"0.3\", marginRight: \"10px\" }}>Display Name</div>\n                    <TextField\n                      style={{ flex: \"0.7\" }}\n                      variant=\"standard\"\n                      inputRef={register({ register: true })}\n                      required\n                      fullWidth\n                      name=\"name\"\n                      id=\"name\"\n                  />\n                  {errors.name && <span>This field is required</span>}\n                  </div>\n                  <br></br>\n\n                  <div style={{ display: \"flex\", width: \"100%\", flexDirection: \"row\", justifyContent: \"flex-start\", alignItems: \"center\" }}>\n                    <div style={{ flex: \"0.3\", marginRight: \"10px\" }}>Email</div>\n                    <TextField\n                      style={{ flex: \"0.7\" }}\n                      variant=\"standard\"\n                      inputRef={register({ register: true })}\n                      required\n                      fullWidth\n                      name=\"email\"\n                      id=\"email\"\n                  />\n                  {errors.email && <span>This field is required</span>}\n                  </div>\n                  <br></br>\n                  \n                  <Button\n                      type=\"submit\"\n                      fullWidth\n                      variant=\"contained\"\n                      className={classes.submit}\n                      style={{color:\"white\", backgroundColor:\"#00853e\", borderRadius:\"50px\"}}>\n                      Save\n                  </Button>\n                </form>\n                </div>\n            </Container>   \n        </div>)\n      : (\n        <React.Fragment>\n          <Loading/>\n        </React.Fragment>\n      )\n    ) : (\n          <React.Fragment>\n              <AccessDenied/>\n          </React.Fragment>\n        )\n  }\n\n"]},"metadata":{},"sourceType":"module"}